{%- if section.settings.enable -%}
    <div class="holder {{ section.settings.outer_margin }}">
    <div class="container">
        <div class="form-card-bg" {% if section.settings.block_bg != blank %}style="background-color: {{ section.settings.block_bg }}"{% endif %}>
            <h2 class="text-center {{ section.settings.title_size }}" {% unless section.settings.title_color == '' or section.settings.title_color contains 'rgba(0,0,0,0)' %}style="color: {{ section.settings.title_color }}"{% endunless %}>{{ section.settings.title }}</h2>
            <div class="form-wrapper">
                {%- assign formId = 'ContactForm02' -%}
                {%- form 'contact', id: formId, data-toggle: "validator" -%}
                {%- include 'form-status', form_id: formId -%}
                {% if form.posted_successfully? %}
                    {%- include 'form-contact-notification' -%}
                {% endif %}
                    <div class="form-group">
                        <div class="row row--md-pad vert-margin-middle">
                            <div class="col-lg">
                                <input class="form-control form-control--sm{% if form.errors contains "author" %} is-invalid"{% endif %}" type="text" name="contact[name]" placeholder="{{ "contact.form.name" | t }}" id="{{ formId }}Name" value="{% if form[name] %}{{ form[name] }}{% elsif customer %}{{ customer.name }}{% endif %}"/>
                                {%- if form.errors contains 'author' -%}
                                    <div class="invalid-feedback">{{ form.errors.translated_fields['author'] | capitalize }} {{ form.errors.messages['author'] }}.</div>
                                {%- endif -%}
                            </div>
                            <div class="col-lg">
                                <input class="form-control form-control--sm{% if form.errors contains "email" %} is-invalid"{% endif %}" type="email" name="contact[email]" placeholder="{{ "contact.form.email" | t }}" id="{{ formId }}Email" value="{% if form.email %}{{ form.email }}{% elsif customer %}{{ customer.email }}{% endif %}" required/>
                                {%- if form.errors contains 'email' -%}
                                    <div class="invalid-feedback">{{ form.errors.translated_fields['email'] | capitalize }} {{ form.errors.messages['email'] }}.</div>
                                {%- endif -%}
                            </div>
                            <div class="col-lg">
                                <input class="form-control form-control--sm{% if form.errors contains "phone" %} is-invalid"{% endif %}" type="tel" id="{{ formId }}Phone" name="contact[phone]" placeholder="{{ 'contact.form.phone' | t }}" pattern="[0-9\-]*" value="{% if form[phone] %}{{ form[phone] }}{% elsif customer %}{{ customer.phone }}{% endif %}">
                                {%- if form.errors contains 'phone' -%}
                                    <div class="invalid-feedback">{{ form.errors.translated_fields['phone'] | capitalize }} {{ form.errors.messages['phone'] }}.</div>
                                {%- endif -%}
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <textarea class="form-control form-control--sm  textarea--height-200 {% if form.errors contains "body" %}is-invalid{% endif %}" name="contact[body]" id="{{ formId }}Body" placeholder="{{ "contact.form.message" | t }}">{% if form.body %}{{ form.body }}{% endif %}</textarea>
                        {%- if form.errors contains 'body' -%}
                            <div class="invalid-feedback">{{ form.errors.translated_fields['body'] | capitalize }} {{ form.errors.messages['body'] }}.</div>
                        {%- endif -%}
                    </div>
                    <div class="text-center mt-0">
                        <button class="btn btn-submit" type="submit" {% unless section.settings.bnr_button_theme %}style="background-color:{{ section.settings.button_bgcolor }}; color:{{ section.settings.button_color }};" data-color="{{ section.settings.button_color }}" data-hover-color="{{ section.settings.button_color_hover }}" data-bgcolor="{{ section.settings.button_bgcolor }}" data-hover-bgcolor="{{ section.settings.button_bgcolor_hover }}"{% endunless %}>{{ 'theme.general.submit_full' | t }}</button>
                    </div>
                {%- endform -%}
            </div>
        </div>
    </div>
    {%- if section.settings.map_yes -%}
    <div class="contact-map-under-form contact-map bg-cover lazyload {% if section.settings.map_type == 'image' %}image-wrap{% endif %}" {%- if section.settings.map_type == 'image' -%}{% if section.settings.map_image != blank %}data-bgset="{% include 'bgset', image: section.settings.map_image %}" data-sizes="auto" style="background-position: {{ section.settings.map_image_position }}"{% endif %}{%- endif -%}>
        {%- if section.settings.map_type == 'google' -%}{{ section.settings.google_map }}{%- endif -%}
    </div>
    {%- endif -%}
</div>
{%- endif -%}

{% schema %}
{
"name": "Contact Form - Map",
"settings": [
{
"type": "checkbox",
"id": "enable",
"label": "Enable",
"default": true
},
{
"type": "header",
"content": "Layout"
},
{
"type": "select",
"id": "outer_margin",
"label": "Outer top margin",
"options":[
{"value":"mt-0","label":"None"},
{"value":"holder-mt-xsmall","label":"XSmall"},
{"value":"holder-mt-small","label":"Small"},
{"value":"holder-mt-medium","label":"Medium (default)"},
{"value":"holder-mt-large","label":"Large"}
],
"default": "holder-mt-medium"
},
{
"type":"color",
"id":"block_bg",
"label":"Form Container Background"
},
{
"type": "header",
"content": "Headings"
},
{
"type": "text",
"id": "title",
"label": "Title",
"default":"Write Us"
},
{
"type": "select",
"id": "title_size",
"label": "Title Font Size",
"default": "h1-style",
"options": [
{ "value": "h-lg-style", "label": "Large" },
{ "value": "h1-style", "label": "Normal" },
{ "value": "h2-style", "label": "Small" }
]
},
{
"type":"color",
"id":"title_color",
"label":"Title Color"
},
{
"type": "richtext",
"id": "subtitle",
"label": "Add custom text below",
"default": "<p>Add your text here</p>"
},
{
"type": "select",
"id": "text_alignment",
"label": "Text Alignment",
"default": "left",
"options": [
{ "value": "left", "label": "Left" },
{ "value": "center", "label": "Center" },
{ "value": "right", "label": "Right" }
]
},
{
"type": "header",
"content": "Submit Button"
},
{
"type": "select",
"id": "bnr_button_alignment",
"label": "Self alignment",
"default": "inherit",
"options": [
{ "value": "inherit", "label": "Default" },
{ "value": "text-center", "label": "Center" },
{ "value": "text-left", "label": "Left" },
{ "value": "text-right", "label": "Right" }
]
},
{
"type": "checkbox",
"id": "bnr_button_theme",
"default": true,
"label": "Use Theme Button Color"
},
{
"type":"color",
"id": "button_color",
"label": "Color"
},
{
"type":"color",
"id": "button_bgcolor",
"label": "Bg Color"
},
{
"type":"color",
"id": "button_color_hover",
"label": "Hover Color"
},
{
"type":"color",
"id": "button_bgcolor_hover",
"label": "Hover Bg Color"
},
{
"type": "header",
"content": "Map"
},
{
"type": "checkbox",
"id": "map_yes",
"label": "Enable",
"default": true
},
{
"type": "radio",
"id": "map_type",
"label": "Map Source",
"options":[
{"value":"google","label":"Google Maps"},
{"value":"image","label":"Custom Image"}
]
},
{
"type": "textarea",
"id": "google_map",
"label": "Google maps Embed code",
"default": "<iframe src='https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d10887.233029391118!2d-77.94517490061943!3d34.23848636904559!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sen!2sua!4v1573217807041!5m2!1sen!2sua'></iframe>",
"info": "Go to [maps.google.com](https://maps.google.com) > Find location > Menu > Share or Embed > Copy Embed code"
},
{
"type":"image_picker",
"id":"map_image",
"label":"Map Image",
"info":"(Recommended size 1920x680px)"
},
{
"type": "select",
"id": "map_image_position",
"label": "Image position",
"default": "center center",
"options": [
{"value": "top left", "label": "Top left"},
{"value": "top center", "label": "Top center"},
{"value": "top right", "label": "Top right"},
{"value": "center left", "label": "Center left"},
{"value": "center center", "label": "Center center"},
{"value": "center right", "label": "Center right"},
{"value": "bottom left", "label": "Bottom left"},
{"value": "bottom center", "label": "Bottom center"},
{"value": "bottom right", "label": "Bottom right"}
]
}
],
"presets": [{
"name": "Contact Form - Map - Style 2",
"category": "Contact Us"
}]
}
{% endschema %}