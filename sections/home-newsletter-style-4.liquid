{%- if section.settings.enable -%}
    <div class="holder {{ section.settings.outer_margin }} {%- if section.settings.enable_bg -%}holder-with-bg {{ section.settings.padding-t }} {{ section.settings.padding-b }} bg-cover lazyload" data-expand="-500"
    {%- if section.settings.bg_image != blank -%}data-bgset="{% include 'bgset', image: section.settings.bg_image %}" data-sizes="auto"{%- endif -%}
    {%- if section.settings.bg_color != blank and section.settings.bg_color != 'rgba(0,0,0,0)' -%}style="background-color: {{ section.settings.bg_color }}"{%- endif -%}
    {%- else -%}"{%- endif -%} id="holder-{{ section.id }}">
    <div class="container">
        <div class="row vert-margin" {%- if section.settings.color != blank and section.settings.color != 'rgba(0,0,0,0)' -%}style="color: {{ section.settings.color }};"{%- endif -%}>
            <div class="col-md col-subscribe-form">
                <div class="subscribe-form text-center">
                    {%- if section.settings.title != blank -%}<h2 class="{{ section.settings.title_size }} mt-1 mb-3">{{ section.settings.title }}</h2>{%- endif -%}
                    {%- if section.settings.text != blank -%}<p>{{ section.settings.text }}</p>{%- endif -%}
                    {% form 'customer', id:'newsletterSubsribe' %}
                    <div class="d-flex flex-nowrap mt-3">
                        {% if form.posted_successfully? %}
                            {%- include 'form-subscribe-notification' -%}
                        {% endif %}
                        {% if form.errors %}
                            {%- include 'form-subscribe-notification', class: 'has-error', id: section.id -%}
                        {% endif %}
                        <div class="form-control-wrap flex-grow-1">
                            <input type="hidden" name="contact[tags]" value="newsletter">
                            <input type="email" name="contact[email]" required class="form-control form-control--sm" value="{% if customer %}{{ customer.email }}{% endif %}" placeholder="{{ 'general.newsletter_form.email_placeholder' | t }}" {%- if section.settings.input_color != blank and section.settings.input_color != 'rgba(0,0,0,0)' -%}style="color: {{ section.settings.input_color }};"{%- endif -%}>
                            {{ form.errors | default_errors }}
                            <style>
                                {%- if section.settings.input_color_bg != blank and section.settings.input_color_bg != 'rgba(0,0,0,0)' -%}
                                #shopify-section-{{ section.id }} .form-control {
                                    background-color: {{ section.settings.input_color_bg }};
                                }

                                {% endif %}
                                {%- if section.settings.input_color != blank and section.settings.input_color != 'rgba(0,0,0,0)' -%}
                                #shopify-section-{{ section.id }} .form-control {
                                    color: {{ section.settings.input_color }};
                                }

                                #shopify-section-{{ section.id }} .form-control::-moz-placeholder {
                                    color: {{ section.settings.input_color }};
                                }

                                #shopify-section-{{ section.id }} .form-control:-ms-input-placeholder {
                                    color: {{ section.settings.input_color }};
                                }

                                #shopify-section-{{ section.id }} .form-control::-webkit-input-placeholder {
                                    color: {{ section.settings.input_color }};
                                }

                                #shopify-section-{{ section.id }} .form-control:-webkit-autofill {
                                    -webkit-text-fill-color: {{ section.settings.input_color }} !important;
                                }

                                {% endif %}
                            </style>
                        </div>
                        <button type="submit" class="btn">{{ 'general.newsletter_form.submit' | t }}</button>
                    </div>
                    {% endform %}
                </div>
                {%- if section.settings.social_show -%}
                    <div class="row justify-content-center align-items-center mt-3 mt-lg-4">
                        <div class="col-auto"><div class="social-list-title heading-font">{{ section.settings.social_text }}</div></div>
                        <div class="col-auto">
                            <ul class="social-list">
                                {% include 'social-media-links' target: 'footer' %}
                            </ul>
                        </div>
                    </div>
                {%- endif -%}
            </div>
            {%- if section.settings.text_enable -%}
                <div class="col-md col-subscribe-form-text">
                    <div class="row vert-margin-small">
                        <div class="col-md-9">
                            {%- if section.settings.image == blank -%}
                                {% include 'image-placeholder-aspect-ratio' width: '285' height: '325' %}
                            {%- else -%}
                                {%- assign aspect_ratio = 1 | divided_by: section.settings.image.aspect_ratio -%}
                                <div class="lookbook-bnr-image image-container" style="padding-bottom: {{ aspect_ratio | times: 100 }}%">
                                    <img class="fade-up lazyload w-100" data-src="{{ section.settings.image | img_url: 'master' }}" alt="">
                                </div>
                            {%- endif -%}
                        </div>
                        <div class="col-md text-center">
                            {%- if section.settings.title1 != blank -%}<h2 class="{{ section.settings.title1_size }} mt-1 mb-3">{{ section.settings.title1 }}</h2>{%- endif -%}
                            {%- if section.settings.text1 != blank -%}<p>{{ section.settings.text1 }}</p>{%- endif -%}
                            {%- if section.settings.button_show -%}
                                <div class="mt-3 mt-lg-4">
                                    <a href="{{ section.settings.button_link }}" target="{{ section.settings.link_target }}" class="btn">{{ section.settings.button_text }}</a>
                                </div>
                            {%- endif -%}
                        </div>
                    </div>
                </div>
            {%- endif -%}
        </div>
    </div>
    </div>
    <style>
        .social-list-title {
            font-size: 20px;
            line-height: 1em;
        }
        @media (min-width: 1200px) {
            #shopify-section-{{ section.id }} .col-subscribe-form {
                padding-right: 45px;
            }

            #shopify-section-{{ section.id }} .col-subscribe-form-text {
                padding-left: 45px;
            }

            body.rtl #shopify-section-{{ section.id }} .col-subscribe-form {
                padding-left: 45px;
                padding-right: 0;
            }

            body.rtl #shopify-section-{{ section.id }} .col-subscribe-form-text {
                padding-right: 45px;
                padding-left: 0;
            }
        }
        {%- unless section.settings.input_bg == '' or section.settings.input_bg contains 'rgba(0,0,0,0)' -%}
        #shopify-section-{{ section.id }} input.form-control {
            background-color: {{ section.settings.input_bg }};
            border-color: {{ section.settings.input_bg }};
        }
        {%- endunless -%}
        {%- if section.settings.social_show -%}
        #shopify-section-{{ section.id }} .social-list li a {
        {%- unless section.settings.social_color == '' or section.settings.social_color contains 'rgba(0,0,0,0)' -%}
            color: {{ section.settings.social_color }};
        {%- endunless -%}
        }
        {%- endif -%}
    </style>
{%- endif -%}

{% schema %}
{
"name": "Subscribe Form + Text",
"presets": [
{
"name": "Subscribe Form + Text",
"category": "Newsletter"
}
],
"settings": [
{
"type": "checkbox",
"id": "enable",
"label": "Enable",
"default": true
},
{
"type": "header",
"content": "Layout"
},
{
"type": "select",
"id": "outer_margin",
"label": "Outer top margin",
"options":[
{"value":"mt-0","label":"None"},
{"value":"holder-mt-xsmall","label":"XSmall"},
{"value":"holder-mt-small","label":"Small"},
{"value":"holder-mt-medium","label":"Medium (default)"},
{"value":"holder-mt-large","label":"Large"}
],
"default": "holder-mt-medium"
},
{
"type": "checkbox",
"id": "enable_bg",
"label": "Add background",
"default": false
},
{
"type": "select",
"id": "padding-t",
"label": "Top Padding",
"options":[
{"value":"pt-0","label":"None"},
{"value":"holder-pt-xsmall","label":"XSmall"},
{"value":"holder-pt-small","label":"Small"},
{"value":"holder-pt-medium","label":"Medium (default)"},
{"value":"holder-pt-large","label":"Large"}
],
"default": "holder-pt-medium"
},
{
"type": "select",
"id": "padding-b",
"label": "Bottom Padding",
"options":[
{"value":"pb-0","label":"None"},
{"value":"holder-pb-xsmall","label":"XSmall"},
{"value":"holder-pb-small","label":"Small"},
{"value":"holder-pb-medium","label":"Medium (default)"},
{"value":"holder-pb-large","label":"Large"}
],
"default": "holder-pb-medium"
},
{
"type":"color",
"id":"bg_color",
"label":"Section Background Color",
"default":"#f8f8f8"
},
{
"type":"image_picker",
"id":"bg_image",
"label":"Section Background Image",
"info":"(Recommended size 1920x700 px)"
},
{
"type": "header",
"content": "Subscribe Form"
},
{
"type": "text",
"id": "title",
"label": "Heading",
"default": "Newsletter SignUp!"
},
{
"type": "select",
"id": "title_size",
"label": "Title Font Size",
"default": "h1-style",
"options": [
{ "value": "h-lg-style", "label": "Large" },
{ "value": "h1-style", "label": "Normal" },
{ "value": "h2-style", "label": "Small" }
]
},
{
"type": "textarea",
"id": "text",
"label": "Text",
"default": "Get 10% off your first purchase by joining our mailing list, and receive some of the best deals possible"
},
{
"type":"color",
"id":"input_color",
"label":"Form Input Color"
},
{
"type":"color",
"id":"input_bg",
"label":"Form Input Background"
},
{
"type":"checkbox",
"id":"social_show",
"label":"Show Social Links",
"default":true
},
{
"type": "text",
"id": "social_text",
"label": "Social Links Title",
"default": "Follow Us"
},
{
"type":"color",
"id":"social_color",
"label":"Social Links Color"
},
{
"type": "header",
"content": "Text Block"
},
{
"type": "checkbox",
"id": "text_enable",
"label": "Enable",
"default": true
},
{
"type": "image_picker",
"id": "image",
"label": "Image",
"info":"Recommended size 265x325px"
},
{
"type": "text",
"id": "title1",
"label": "Heading",
"default": "Instagram Shop"
},
{
"type": "select",
"id": "title1_size",
"label": "Title Font Size",
"default": "h1-style",
"options": [
{ "value": "h-lg-style", "label": "Large" },
{ "value": "h1-style", "label": "Normal" },
{ "value": "h2-style", "label": "Small" }
]
},
{
"type": "textarea",
"id": "text1",
"label": "Text",
"default": "Remember to show off your new purchase on insta by tagging us and get $20 off your next order."
},
{
"type":"checkbox",
"id":"button_show",
"label":"Show Button",
"default":true
},
{
"type": "text",
"id": "button_link",
"label": "Button Link",
"default":"https://www.instagram.com/bigstepscenter/"
},
{
"type":"select",
"id":"link_target",
"label":"Link Target",
"default":"_self",
"options":[
{
"value":"_blank",
"label":"New page"
},
{
"value":"_self",
"label":"In current page"
}
]
},
{
"type": "text",
"id": "button_text",
"label": "Button Text",
"default":"Shop Now"
}
]
}
{% endschema %}