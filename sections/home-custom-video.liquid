{%- if section.settings.enable -%}
    {%- assign headings = true -%}
    {%- assign outside = false -%}
    {%- for block in section.blocks -%}
        {%- case block.type -%}
        {%- when 'video' -%}
        {%- if block.settings.image_outside and block.settings.enable -%}{%- assign outside = true -%}{%- endif -%}
        {%- endcase -%}
    {%- endfor -%}
    <div class="holder {{ section.settings.outer_margin }} {{ section.settings.block_width }} {% if section.settings.block_width == 'fullwidth' %}full-nopad{% endif %}  {%- if section.settings.enable_bg -%}holder-with-bg {{ section.settings.padding-t }} {{ section.settings.padding-b }}  bg-cover lazyload"
        {% if section.settings.bg_image != blank %}data-bgset="{% include 'bgset', image: section.settings.bg_image %}" data-sizes="auto"{% endif %}
        {% if section.settings.bg_color != blank and section.settings.bg_color != 'rgba(0,0,0,0)' %}style="background-color: {{ section.settings.bg_color }}"{% endif %}
        {%- else -%}"{%- endif -%}>
        <div class="{% if outside %}container-fluid px-0{% else %}container{% endif %}" {% if section.settings.block_width == 'boxed' and  section.settings.maxwidth_yes %}style="max-width:{{ section.settings.maxwidth }}px"{% endif %}>
            {%- unless section.settings.title_inside -%}
            {% include 'section-headings' bottom: section.settings.heading_bottom %}
            {%- endunless -%}
            <div class="row justify-content-md-{{ section.settings.alignment }} {% if section.settings.reverse %}flex-column-reverse flex-md-row{% endif %} {% if section.settings.nopads %}no-gutters{% endif %}">
                {%- for block in section.blocks -%}
                    {%- case block.type -%}
                    {%- when 'video' -%}
                    <div {{ block.shopify_attributes }} class="col-{{ block.settings.col }} col-sm-{{ block.settings.col_md }} {% if outside %}{% if forloop.index == 1 %}justify-content-start{% else %}justify-content-end{% endif %}{% else %}justify-content-center{% endif %}">
                        {%- if block.settings.video_type == 'youtube' -%}
                        <div class="{{ block.settings.video_aspect }}">
                            {%- if block.settings.video_link == blank -%}
                            {%- else -%}
                                {%- if block.settings.video_link.type == "youtube" -%}
                                    <iframe class="embed-responsive-item" src="//www.youtube.com/embed/{{ block.settings.video_link.id }}?rel=0&showinfo=0&autoplay=1{% if block.settings.video_loop %}&loop=1&playinline=1&playlist={{ block.settings.video_link.id }}{% endif %}{% if block.settings.video_mute %}&mute=1{% endif %}" allowfullscreen></iframe>
                                {%- endif -%}
                            {%- endif -%}
                        </div>
                        {%- else -%}
                        <div class="video-wrap-content {{ block.settings.video_aspect }} js-video-wrap {% if block.settings.video_autoplay %}is-playing{% endif %}">
                            <video class="js-video-content" playsinline {% if block.settings.video_autoplay %}autoplay{% endif %} {% if block.settings.video_loop %}loop{% endif %} {% if block.settings.video_mute %}muted{% endif %} preload="metadata" poster="{% if block.settings.image %}{{ block.settings.image | img_url: 'master' }}{% endif %}">
                                <source src="{{ block.settings.video_mp4 }}" type="video/mp4">
                            </video>
                            {%- if block.settings.video_control -%}
                            <div class="video-control visible">
                                <div class="video-play js-video-play"><i class="icon-play"></i></div>
                                <div class="video-stop js-video-stop"><i class="icon-pause"></i></div>
                            </div>
                            {%- endif -%}
                        </div>
                        {%- endif -%}
                    </div>
                    {%- when 'html' -%}
                    <div {{ block.shopify_attributes }} id="shopify-block-{{ block.id }}" class="col-{{ block.settings.col }} col-md-{{ block.settings.col_md }} {% if section.settings.reverse %}mt-3 mt-md-0{% elsif forloop.index != 1 %}mt-3 mt-md-0{% endif %} text-{{ block.settings.text_alignment }} {{ block.settings.text_alignment_v }}">
                        <div class="w-100" style="padding: {{ block.settings.bnr_text_paddingv }}% {{ block.settings.bnr_text_paddingh }}%;">
                            {%- if outside -%}
                            <div class="d-flex {% if forloop.index == 1 %}justify-content-end{% endif %}">
                                <div class="outside-text">
                                    {%- endif -%}
                                    {%- if section.settings.title_inside and headings -%}
                                        {% include 'section-headings' %}
                                        {%- assign headings = false -%}
                                    {%- endif -%}
                                    {{ block.settings.text }}
                                    {%- if outside -%}
                                </div>
                            </div>
                            {%- endif -%}
                        </div>
                    </div>
                    {%- when 'text' -%}
                    <div {{ block.shopify_attributes }} id="shopify-block-{{ block.id }}" class="col-{{ block.settings.col }} col-md-{{ block.settings.col_md }} {% if section.settings.reverse %}{% if block.settings.bnr_text_paddingv == 0 %}mt-3{% endif %}  mt-md-0{% elsif forloop.index != 1 %}{% if block.settings.bnr_text_paddingv == 0 %}mt-3{% endif %}  mt-md-0{% endif %} text-{{ block.settings.text_alignment }} {{ block.settings.text_alignment_v }}">
                        <div class="w-100" style="padding: {{ block.settings.bnr_text_paddingv }}% {{ block.settings.bnr_text_paddingh }}%;">
                            {%- if outside -%}
                            <div class="d-flex {% if forloop.index == 1 %}justify-content-end{% endif %}">
                                <div class="outside-text">
                                    {%- endif -%}
                                    {%- if section.settings.title_inside and headings -%}
                                        {% include 'section-headings' bottom: section.settings.heading_bottom %}
                                        {%- assign headings = false -%}
                                    {%- endif -%}
                                    {{ block.settings.text }}
                                    {%- if block.settings.button_yes -%}
                                        <div class="btn-wrap mt-3">
                                            <a href="{{ block.settings.button_link | default:'#' }}" target="{{ section.settings.link_target }}" class="btn {{ block.settings.button_size }}">
                                                {{ block.settings.button_txt }}
                                            </a>
                                        </div>
                                    {%- endif -%}
                                    {%- if outside -%}
                                </div>
                            </div>
                            {%- endif -%}
                        </div>
                    </div>
                    {%- endcase -%}
                {%- endfor -%}
            </div>
        </div>
    </div>
{%- endif -%}
<style>
    #shopify-section-{{ section.id }} .title-wrap + p {
        margin-top: 0;
    }
    {%- if outside -%}
    @media (max-width: 767px) {
        #shopify-section-{{ section.id }} [class*='col'] > .w-100 {
            padding-left: 15px !important;
            padding-right: 15px !important;
        }
    }
    {%- endif -%}
    {%- for block in section.blocks -%}
    {%- unless block.settings.bg_color == '' or block.settings.bg_color contains 'rgba(0,0,0,0)' -%}
    #shopify-block-{{ block.id }} {
        background-color: {{ block.settings.bg_color }};
    }
    {%- endunless -%}
    {%- unless block.settings.color == '' or block.settings.color contains 'rgba(0,0,0,0)' -%}
    #shopify-block-{{ block.id }}, #shopify-block-{{ block.id }} h2, #shopify-block-{{ block.id }} h3, #shopify-block-{{ block.id }} p, #shopify-block-{{ block.id }} a:not(.btn), #shopify-block-{{ block.id }} a:not(.btn):hover {
        color: {{ block.settings.color }};
    }
    {%- endunless -%}
    {%- unless block.settings.title_color == '' or block.settings.title_color contains 'rgba(0,0,0,0)' -%}
    #shopify-block-{{ block.id }} h2, #shopify-block-{{ block.id }} h3 {
        color: {{ block.settings.title_color }};
    }
    {%- endunless -%}
    {%- endfor -%}


    @media (min-width: 768px) {
    {%- if outside -%}
    {%- for block in section.blocks -%}
        #shopify-block-{{ block.id }} .outside-text {
            max-width: {{ settings.maxwidth | divided_by: 18 | times: block.settings.col_md | minus: 26 }}px;
            width: {{ settings.maxwidth | divided_by: 18 | times: block.settings.col_md | minus: 26 }}px;
        }
    {%- endfor -%}
    {%- endif -%}
    }
</style>
{% schema %}
{
"name": "Custom Text + Video",
"class": "index-section",
"settings": [
{
"type": "checkbox",
"id": "enable",
"label": "Enable",
"default": true
},
{
"type": "header",
"content": "Layout"
},
{
"type":"select",
"id":"block_width",
"label":"Width",
"options":[
{"value":"boxed","label":"Boxed"},
{"value":"fullwidth","label":"Fullwidth"}
],
"default":"boxed"
},
{
    "type": "checkbox",
    "id": "maxwidth_yes",
    "label": "Enable Max Width",
    "default": false,
    "info": "* only for boxed"
},
{
    "type": "range",
    "id": "maxwidth",
    "label": "Max Width",
    "min": 800,
    "max": 2400,
    "step": 20,
    "unit": "px",
    "default": 1600
},
{
"type": "select",
"id": "outer_margin",
"label": "Outer top margin",
"options":[
{"value":"mt-0","label":"None"},
{"value":"holder-mt-xsmall","label":"XSmall"},
{"value":"holder-mt-small","label":"Small"},
{"value":"holder-mt-medium","label":"Medium (default)"},
{"value":"holder-mt-large","label":"Large"}
],
"default": "holder-mt-medium"
},
{
"type": "checkbox",
"id": "enable_bg",
"label": "Add background",
"default": false
},
{
"type": "select",
"id": "padding-t",
"label": "Top Padding",
"options":[
{"value":"pt-0","label":"None"},
{"value":"holder-pt-xsmall","label":"XSmall"},
{"value":"holder-pt-small","label":"Small"},
{"value":"holder-pt-medium","label":"Medium (default)"},
{"value":"holder-pt-large","label":"Large"}
],
"default": "holder-pt-medium"
},
{
"type": "select",
"id": "padding-b",
"label": "Bottom Padding",
"options":[
{"value":"pb-0","label":"None"},
{"value":"holder-pb-xsmall","label":"XSmall"},
{"value":"holder-pb-small","label":"Small"},
{"value":"holder-pb-medium","label":"Medium (default)"},
{"value":"holder-pb-large","label":"Large"}
],
"default": "holder-pb-medium"
},
{
"type":"color",
"id":"bg_color",
"label":"Section Background Color",
"default":"#f8f8f8"
},
{
"type":"image_picker",
"id":"bg_image",
"label":"Section Background Image",
"info":"(Recommended size 1920x700 px)"
},
{
"type": "select",
"id": "alignment",
"label": "Columns Horizontal Alignment",
"default": "center",
"options": [
{ "value": "start", "label": "Left" },
{ "value": "center", "label": "Center" },
{ "value": "end", "label": "Right" }
]
},
{
"type": "checkbox",
"id": "reverse",
"label": "Reverse Columns for Mobile",
"default": false
},
{
"type":"checkbox",
"id":"nopads",
"label":"Remove padding between blocks",
"default":false
},
{
"type": "header",
"content": "Heading"
},
{
"type": "checkbox",
"id": "enable_text",
"label": "Enable",
"default": true
},
{
"type": "text",
"id": "title",
"label": "Title",
"default":"Video & Text"
},
{
"type": "select",
"id": "title_size",
"label": "Title Font Size",
"default": "h2-style",
"options": [
{ "value": "h-lg-style", "label": "Large" },
{ "value": "h1-style", "label": "Normal" },
{ "value": "h2-style", "label": "Small" }
]
},
{
"type": "select",
"id": "text_alignment",
"label": "Text Alignment",
"default": "center",
"options": [
{ "value": "left", "label": "Left" },
{ "value": "center", "label": "Center" },
{ "value": "right", "label": "Right" }
]
},
{
"type": "text",
"id": "subtitle",
"label": "Sub Heading",
"default": "Sub Heading"
},
{
"type": "text",
"id": "bgtitle",
"label": "Background Heading"
},
{
"type": "checkbox",
"id": "title_inside",
"label": "Place Title in the Text block",
"default": false
},
{
"type": "range",
"id": "heading_bottom",
"min": 0,
"max": 80,
"step": 5,
"unit": "px",
"label": "Space under Title",
"default": 40
}
],
"blocks":[
{
"type":"video",
"name":"Video",
"settings":[
{
"type":"checkbox",
"id":"enable",
"label":"Enable",
"default":true
},
{
"type":"select",
"id":"col",
"label":"Column for Mobile",
"options":[
{"value":"2","label":"1/9"},
{"value":"3","label":"1/6"},
{"value":"6","label":"1/3"},
{"value":"9","label":"1/2"},
{"value":"12","label":"2/3"},
{"value":"18","label":"1"}
],
"default":"18"
},
{
"type":"select",
"id":"col_md",
"label":"Column for Desktop",
"options":[
{"value":"2","label":"1/9"},
{"value":"3","label":"1/6"},
{"value":"6","label":"1/3"},
{"value":"9","label":"1/2"},
{"value":"12","label":"2/3"},
{"value":"18","label":"1"}
],
"default":"9"
},
{
"type":"radio",
"id": "video_type",
"label": "Video Source",
"options": [
{ "value": "mp4", "label": "MP4" },
{ "value": "youtube", "label": "YouTube" }
],
"default":"mp4"
},
{
"type": "text",
"id": "video_mp4",
"label": "Video MP4 Link",
"default": "https://cdn.shopify.com/s/files/1/0201/0942/6742/files/Fitness3.mp4"
},
{
"type": "video_url",
"id": "video_link",
"label": "Video link",
"accept": ["youtube"],
"default": "https://www.youtube.com/watch?v=_9VUPq3SxOc"
},
{
"type": "checkbox",
"id": "video_autoplay",
"label": "Autoplay Video",
"default": true
},
{
"type": "checkbox",
"id": "video_mute",
"label": "Mute Video",
"default": true
},
{
"type": "checkbox",
"id": "video_loop",
"label": "Loop Video",
"default": true
},
{
"type": "checkbox",
"id": "video_control",
"label": "Show Video Control Button",
"default": true,
"info": "Only for MP4 video"
},
{
"type": "select",
"id": "video_aspect",
"label": "Video aspect ratio",
"options":[
{"value":"embed-responsive embed-responsive-21by9","label":"21:9"},
{"value":"embed-responsive embed-responsive-16by9","label":"16:9"},
{"value":"embed-responsive embed-responsive-4by3","label":"4:3"},
{"value":"embed-responsive embed-responsive-1by1","label":"1:1"},
{"value":"w-100","label":"Not specified"}
],
"default": "w-100"
},
{
"type":"checkbox",
"id":"image_outside",
"label":"Outside Shift",
"default":false
}
]
},
{
"type":"text",
"name":"Text",
"settings":[
{
"type":"checkbox",
"id":"enable",
"label":"Enable",
"default":true
},
{
"type":"select",
"id":"col",
"label":"Column for Mobile",
"options":[
{"value":"2","label":"1/9"},
{"value":"3","label":"1/6"},
{"value":"6","label":"1/3"},
{"value":"9","label":"1/2"},
{"value":"12","label":"2/3"},
{"value":"18","label":"1"}
],
"default":"18"
},
{
"type":"select",
"id":"col_md",
"label":"Column for Desktop",
"options":[
{"value":"2","label":"1/9"},
{"value":"3","label":"1/6"},
{"value":"6","label":"1/3"},
{"value":"9","label":"1/2"},
{"value":"12","label":"2/3"},
{"value":"18","label":"1"}
],
"default":"9"
},
{
"type":"range",
"id":"bnr_text_paddingh",
"min":0,
"max":20,
"step":1,
"label":"Text Offset Horizontal",
"unit":"%",
"default":0
},
{
"type":"range",
"id":"bnr_text_paddingv",
"min":0,
"max":20,
"step":1,
"label":"Text Offset Vertical",
"unit":"%",
"default":0
},
{
"type":"richtext",
"id":"text",
"label":"Text",
"default":"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas varius laoreet imperdiet. Nullam iaculis odio ac urna blandit tempor. Etiam libero dui, tempor et turpis ut, venenatis varius odio.</p>"
},
{
"type": "select",
"id": "text_alignment",
"label": "Text Alignment",
"default": "left",
"options": [
{ "value": "left", "label": "Left" },
{ "value": "center", "label": "Center" },
{ "value": "right", "label": "Right" }
]
},
{
"type": "select",
"id": "text_alignment_v",
"label": "Text Vertical Alignment",
"options":[
{"value":"d-flex align-items-start","label":"Top"},
{"value":"d-flex align-items-center","label":"Center"},
{"value":"d-flex align-items-end","label":"Bottom"}
],
"default": "d-flex align-items-center"
},
{
"type": "color",
"id": "color",
"label": "Text Color"
},
{
"type": "color",
"id": "title_color",
"label": "Title Color"
},
{
"type":"color",
"id":"bg_color",
"label":"Background Color"
},
{
"type": "header",
"content": "Button"
},
{
"type": "checkbox",
"id": "button_yes",
"label": "Enabled",
"default": false
},
{
"type": "text",
"id": "button_txt",
"label": "Button text",
"default": "Read More"
},
{
"type": "url",
"id": "button_link",
"label": "Button link"
},
{
"type": "select",
"id": "button_size",
"label": "Button Size",
"options": [
{
"value": "btn",
"label": "Normal"
},
{
"value": "btn--lg",
"label": "Medium"
},
{
"value": "btn--xl",
"label": "Large"
},
{
"value": "btn--xxl",
"label": "Extra Large"
}
],
"default": "btn--lg"
},
{
"type": "checkbox",
"id": "bnr_button_theme",
"default": true,
"label": "Use Theme Button Color"
},
{
"type": "color",
"id": "button_color",
"label": "Button Color"
},
{
"type": "color",
"id": "button_bg",
"label": "Button Background"
},
{
"type": "color",
"id": "button_hover_color",
"label": "Button Hover Color"
},
{
"type": "color",
"id": "button_hover_bg",
"label": "Button Hover Background"
}
]
},
{
"type":"html",
"name":"HTML Code",
"settings":[
{
"type":"checkbox",
"id":"enable",
"label":"Enable",
"default":true
},
{
"type":"select",
"id":"col",
"label":"Column for Mobile",
"options":[
{"value":"2","label":"1/18"},
{"value":"3","label":"3/18"},
{"value":"4","label":"4/19"},
{"value":"5","label":"5/18"},
{"value":"6","label":"6/18"},
{"value":"7","label":"7/18"},
{"value":"8","label":"8/18"},
{"value":"9","label":"9/18"},
{"value":"10","label":"10/18"},
{"value":"11","label":"11/18"},
{"value":"12","label":"12/18"},
{"value":"18","label":"1"}
],
"default":"18"
},
{
"type":"select",
"id":"col_md",
"label":"Column for Desktop",
"options":[
{"value":"2","label":"1/18"},
{"value":"3","label":"3/18"},
{"value":"4","label":"4/19"},
{"value":"5","label":"5/18"},
{"value":"6","label":"6/18"},
{"value":"7","label":"7/18"},
{"value":"8","label":"8/18"},
{"value":"9","label":"9/18"},
{"value":"10","label":"10/18"},
{"value":"11","label":"11/18"},
{"value":"12","label":"12/18"},
{"value":"18","label":"1"}
],
"default":"9"
},
{
"type":"range",
"id":"bnr_text_paddingh",
"min":0,
"max":20,
"step":1,
"label":"Text Offset Horizontal",
"unit":"%",
"default":0
},
{
"type":"range",
"id":"bnr_text_paddingv",
"min":0,
"max":20,
"step":1,
"label":"Text Offset Vertical",
"unit":"%",
"default":0
},
{
"type":"textarea",
"id":"text",
"label":"Text",
"default":"<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas varius laoreet imperdiet. Nullam iaculis odio ac urna blandit tempor. Etiam libero dui, tempor et turpis ut, venenatis varius odio.</p>"
},
{
"type": "select",
"id": "text_alignment",
"label": "Text Alignment",
"default": "left",
"options": [
{ "value": "left", "label": "Left" },
{ "value": "center", "label": "Center" },
{ "value": "right", "label": "Right" }
]
},
{
"type": "select",
"id": "text_alignment_v",
"label": "Text Vertical Alignment",
"options":[
{"value":"d-flex align-items-start","label":"Top"},
{"value":"d-flex align-items-center","label":"Center"},
{"value":"d-flex align-items-end","label":"Bottom"}
],
"default": "d-flex align-items-center"
},
{
"type": "color",
"id": "color",
"label": "Text Color"
},
{
"type": "color",
"id": "title_color",
"label": "Title Color"
},
{
"type":"color",
"id":"bg_color",
"label":"Background Color"
}
]
}
],
"presets": [
{
"name": "Custom Text + Video",
"category": "Text",
"blocks":[
{
"type":"video"
},
{
"type":"text"
}
]
}
]
}
{% endschema %}
