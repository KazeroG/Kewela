{%- if section.settings.enable -%}
    <div class="holder {{ section.settings.outer_margin }}" id="holder-{{ section.id }}">
        <div class="container">
            {% include 'section-headings' %}
            <div class="row text-icn-blocks-with-title justify-content-{{ section.settings.block_alignment }}">
                <div class="col-sm">
                    <div class="d-flex d-sm-block justify-content-around">
                    {%- for block in section.blocks -%}
                        {%- if forloop.index == 1 or forloop.index == 2 -%}
                            {%- if block.settings.enable -%}
                                <div class="text-icn-block-full-column text-icn-block-full-column-{{ block.id }}">
                                    <div class="icn" {% if block.settings.icon_color == blank or block.settings.icon_color contains 'rgba(0,0,0,0)' %}{% unless section.settings.icons_color == '' or section.settings.icons_color contains 'rgba(0,0,0,0)' %}style="color: {{ section.settings.icons_color }}"{% endunless %}{% else %}style="color: {{ block.settings.icon_color }}"{% endif %}>
                                        {%- if block.settings.icon_type == 'svg' -%}
                                            {{ block.settings.svg }}
                                        {%- else -%}
                                            <i class="{% if block.settings.icon_type == 'theme' %}{{ block.settings.icon }}{% else %}{{ block.settings.icon_name }}{% endif %}"></i>
                                        {%- endif -%}
                                    </div>
                                    <div class="text" {% if block.settings.block_color == blank or block.settings.block_color contains 'rgba(0,0,0,0)' %}{% unless section.settings.block_color == '' or section.settings.block_color contains 'rgba(0,0,0,0)' %}style="color: {{ section.settings.block_color }}"{% endunless %}{% else %}style="color: {{ block.settings.block_color }}"{% endif %}>
                                        <h4 class="theme-font" {% if block.settings.block_color != blank and section.settings.block_color != 'rgba(0,0,0,0)' %}style="color: {{ block.settings.block_color }}"
                                            {% else %}{% if section.settings.block_color != blank and section.settings.block_color != 'rgba(0,0,0,0)' %}style="color: {{ section.settings.block_color }}"{% endif %}{% endif %}>{{ block.settings.text1 }}</h4>
                                        {{ block.settings.text2 }}
                                    </div>
                                </div>
                            {%- endif -%}
                        {%- endif -%}
                    {%- endfor -%}
                    </div>
                </div>
                {%- if section.settings.image -%}
                    <div class="col-sm-7 col-md-9 my-3 my-sm-0 text-center">
                        {%- assign _img = section.settings.image -%}
                        {%- if _img -%}
                            {%- assign aspect_ratio = 1 | divided_by: _img.aspect_ratio -%}
                            {%- assign img_url = _img | img_url: '1x1' | replace: '_1x1.', '_{width}x.' -%}
                            <div class="image-container"
                                 style="padding-bottom: {{ aspect_ratio | times: 100 }}%">
                                <img class="lazyload fade-up"
                                     data-src="{{ img_url }}"
                                     data-widths="[540, 720, 900, 1080]"
                                     data-sizes="auto"
                                     alt="{{ block.settings.title }}">
                                <div class="foxic-loader"></div>
                            </div>
                        {%- else -%}
                            <div class="gallery-item-image">
                                {% include 'image-placeholder-aspect-ratio', width: '550', height: '485' %}
                            </div>
                        {%- endif -%}
                    </div>
                {%- endif -%}
                <div class="col-sm">
                    <div class="d-flex d-sm-block justify-content-around">
                    {%- for block in section.blocks -%}
                        {%- if forloop.index == 3 or forloop.index == 4 -%}
                            {%- if block.settings.enable -%}
                                <div class="text-icn-block-full-column text-icn-block-full-column-{{ block.id }}">
                                    <div class="icn" {% if block.settings.icon_color == blank or block.settings.icon_color contains 'rgba(0,0,0,0)' %}{% unless section.settings.icons_color == '' or section.settings.icons_color contains 'rgba(0,0,0,0)' %}style="color: {{ section.settings.icons_color }}"{% endunless %}{% else %}style="color: {{ block.settings.icon_color }}"{% endif %}>
                                        {%- if block.settings.icon_type == 'svg' -%}
                                            {{ block.settings.svg }}
                                        {%- else -%}
                                            <i class="{% if block.settings.icon_type == 'theme' %}{{ block.settings.icon }}{% else %}{{ block.settings.icon_name }}{% endif %}"></i>
                                        {%- endif -%}
                                    </div>
                                    <div class="text" {% if block.settings.block_color == blank or block.settings.block_color contains 'rgba(0,0,0,0)' %}{% unless section.settings.block_color == '' or section.settings.block_color contains 'rgba(0,0,0,0)' %}style="color: {{ section.settings.block_color }}"{% endunless %}{% else %}style="color: {{ block.settings.block_color }}"{% endif %}>
                                        <h4 class="theme-font" {% if block.settings.block_color != blank and block.settings.block_color != 'rgba(0,0,0,0)' %}style="color: {{ block.settings.block_color }}"
                                            {% else %}{% if section.settings.block_color != blank and section.settings.block_color != 'rgba(0,0,0,0)' %}style="color: {{ section.settings.block_color }}"{% endif %}{% endif %}>{{ block.settings.text1 }}</h4>
                                        {{ block.settings.text2 }}
                                    </div>
                                </div>
                            {%- endif -%}
                        {%- endif -%}
                    {%- endfor -%}
                    </div>
                </div>
            </div>
        </div>
    </div>
{%- endif -%}
<style>
    {%- if settings.icons_color != blank and section.settings.icons_color != 'rgba(0,0,0,0)' -%}
        {%- unless settings.color_heading_filter == '' or settings.color_heading_filter contains 'rgba(0,0,0,0)' -%}
            .text-icn-block-full-column-{{ block.id }} .icn > svg {
                color: {{ section.settings.icons_color }};
            }
        {%- endunless -%}
    {%- endif -%}
</style>
{% schema %}
    {
    "name": "Shop Info + Image",
    "settings": [
    {
    "type": "checkbox",
    "id": "enable",
    "label": "Enable",
    "default": true
    },
    {
    "type": "header",
    "content": "Layout"
    },
    {
    "type": "select",
    "id": "outer_margin",
    "label": "Outer top margin",
    "options":[
    {"value":"mt-0","label":"None"},
    {"value":"holder-mt-xsmall","label":"XSmall"},
    {"value":"holder-mt-small","label":"Small"},
    {"value":"holder-mt-medium","label":"Medium (default)"},
    {"value":"holder-mt-large","label":"Large"}
    ],
    "default": "holder-mt-medium"
    },
    {
    "type": "header",
    "content": "Headings"
    },
    {
    "type": "checkbox",
    "id": "enable_text",
    "label": "Enable",
    "default": true
    },
    {
    "type": "text",
    "id": "title",
    "label": "Title",
    "default":"About Us"
    },
    {
    "type": "select",
    "id": "title_size",
    "label": "Title Font Size",
    "default": "h1-style",
    "options": [
    { "value": "h-lg-style", "label": "Large" },
    { "value": "h1-style", "label": "Normal" },
    { "value": "h2-style", "label": "Small" }
    ]
    },
    {
    "type": "text",
    "id": "subtitle",
    "label": "Sub Heading"
    },
    {
    "type": "text",
    "id": "bgtitle",
    "label": "Background Heading"
    },
    {
    "type": "select",
    "id": "text_alignment",
    "label": "Text Alignment",
    "default": "center",
    "options": [
    { "value": "left", "label": "Left" },
    { "value": "center", "label": "Center" },
    { "value": "right", "label": "Right" }
    ]
    },
    {
    "type": "header",
    "content": "All Blocks Settings"
    },
    {
    "type": "select",
    "id": "block_alignment",
    "label": "Blocks Alignment",
    "default": "center",
    "options": [
    { "value": "start", "label": "Left" },
    { "value": "center", "label": "Center" },
    { "value": "end", "label": "Right" }
    ]
    },
    {
    "type": "checkbox",
    "id": "column",
    "label": "Icon under text",
    "default": true
    },
    {
    "type":"color",
    "id":"block_color",
    "label":"All Blocks Text Color"
    },
    {
    "type":"color",
    "id":"icons_color",
    "label":"All Icons Color"
    },
    {
    "type":"image_picker",
    "id":"image",
    "label":"Image",
    "info":"(Recommended size 725x725 px)"
    }
    ],
    "blocks":[
    {
    "type":"text",
    "name":"Icon + Text",
    "limit": 4,
    "settings":[
    {
    "type":"checkbox",
    "id":"enable",
    "label":"Enable",
    "default":true
    },
    {
    "type":"textarea",
    "id":"text1",
    "label":"Heading",
    "default": "Heading"
    },
    {
    "type":"textarea",
    "id":"text2",
    "label":"Text",
    "default": "Add your text here"
    },
    {
    "type": "radio",
    "id": "icon_type",
    "label": "Icon Source",
    "options":[
    {"value":"theme","label":"Section Icons Set (recommended)"},
    {"value":"name","label":"Custom Icon Name (Theme Icons Library)"},
    {"value":"svg","label":"Custom SVG code"}
    ]
    },
    {
    "type": "select",
    "id": "icon",
    "label": "Section Icons Set",
    "default": "icon-box-1",
    "options":[
    {"value":"icon-box-1","label":"Box"},
    {"value":"icon-call-center","label":"Call Center"},
    {"value":"icon-speech-bubble","label":"Chat"},
    {"value":"icon-watch","label":"Clock"},
    {"value":"icon-credit-card-1","label":"Credit Card"},
    {"value":"icon-delivery-truck","label":"Delivery Truck"},
    {"value":"icon-shopping-1","label":"Hand"},
    {"value":"icon-gift","label":"Gift"},
    {"value":"icon-gift-card","label":"Gift Card"},
    {"value":"icon-guarantee","label":"Guarantee"},
    {"value":"icon-location","label":"Location"},
    {"value":"icon-return","label":"Return"},
    {"value":"icon-ribbon","label":"Ribbon"},
    {"value":"icon-tag","label":"Tag"},
    {"value":"icon-wallet","label":"Wallet"},          {"value":"icon-award","label":"Award"},          {"value":"icon-diplom","label":"Document"}
    ]
    },
    {
    "type":"text",
    "id":"icon_name",
    "label":"Custom Icon Name",
    "default": "icon-gift",
    "info": "Select icon name here [Theme Icons Library](http://big-skins.com/frontend/foxic-html-demo/icon-foxic/demo.html)"
    },
    {
    "type":"textarea",
    "id":"svg",
    "label":"Custom SVG code"
    },
    {
    "type":"color",
    "id":"block_color",
    "label":"Block Text Color"
    },
    {
    "type":"color",
    "id":"icon_color",
    "label":"Icon Color"
    }
    ]
    }],
    "presets": [{
    "name": "Shop Info + Image",
    "category": "Info Blocks",
    "blocks": [
    {
    "type": "text"
    },
    {
    "type": "text"
    },
    {
    "type": "text"
    },
    {
    "type": "text"
    }
    ]
    }]
    }
{% endschema %}