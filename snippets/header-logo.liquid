{% capture logo_alt %}{{ section.settings.logo.alt | default: shop.name }}{% endcapture %}
{%- if section.settings.logo != blank -%}{%- assign aspect_ratio = 1 | divided_by: section.settings.logo.aspect_ratio -%}{%- endif -%}
<a href="{{ routes.root_url }}" class="logo {% if section.settings.logo != blank %}image-container{% endif %}" {% if section.settings.logo != blank %}style="padding-bottom: {{ aspect_ratio | times: 100 }}%;{% endif %}">
    {%- if section.settings.logo != blank -%}
        {%- capture image_size -%}{{ section.settings.logo_max_width | escape }}x{%- endcapture -%}
        {% capture image_size_retina %}{{ section.settings.logo_max_width | times: 2 | escape }}x{% endcapture %}
        <img class="lazyload"
             data-src="{{ section.settings.logo | img_url: image_size_retina }}"
             data-srcset="{{ section.settings.logo | img_url: image_size_retina }} 1x, {{ section.settings.logo | img_url: image_size_retina }} 2x"
             alt="{{ logo_alt | escape }}">
    {%- else -%}
        {% include 'image-placeholder' size: 'Logo' width:'170' height: '55' nosvg: true %}
    {%- endif -%}
    <style>
        @media screen and (min-width: 768px) {
            .hdr-logo > a {width: {{ section.settings.logo_max_width }}px}
            .hdr-logo > a img {max-width: {{ section.settings.logo_max_width }}px; width: 100%;}
        }
        @media screen and (max-width: 767px) {
            .hdr-logo > a {width: {{ section.settings.logo_max_width_mobile }}px}
            .hdr-logo > a img {max-width: {{ section.settings.logo_max_width_mobile }}px; width: 100%;}
        }
    </style>
</a>