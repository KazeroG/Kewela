{%- assign demo = true -%}
{% if settings.font_source_menu == 'custom' or settings.font_source == 'custom' or settings.font_source_headings == 'custom' %}
	<link href="{{ 'font.css' | asset_url }}" rel="stylesheet">
{% endif %}

{% if settings.font_source_menu == 'google'  %}
	<link href="https://fonts.googleapis.com/css2?family={{ settings.font_menu_google }}:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
{% endif %}

{% if settings.font_source == 'google' and settings.font_general_google != settings.font_menu_google %}
<link href="https://fonts.googleapis.com/css2?family={{ settings.font_general_google }}:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
{% endif %}

{% if settings.font_source_headings == 'google' and settings.font_general_google != settings.font_headings_google and settings.font_menu_google != settings.font_headings_google %}
	<link href="https://fonts.googleapis.com/css2?family={{ settings.font_headings_google }}:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
{% endif %}

{% if settings.font_source == 'shopify' or settings.font_source_headings == 'shopify' or settings.font_source_menu == 'shopify' %}
    {% if demo %}
	<style>
        body:not(.is-shopifyfont-loaded) .hdr-wrap {
            opacity: 0;
            transition: opacity 1s;
        }
    </style>
    {% endif %}
    {% if settings.font_source == 'shopify' %}
		{% for variant in settings.font_general.variants %}
			<link rel="preload" href="{{ settings.font_general | font_modify: 'style', variant.style | font_modify: 'weight', variant.weight | font_url: 'woff' }}" as="font">
		{% endfor %}
		<script>
			function loadShopifyFonts() {
				var shopifyFont = new FontFace('{{ settings.font_general.family }}', 'url({{ settings.font_general | font_url: 'woff' }})');
				shopifyFont.load().then(function (loaded_face) {
					document.fonts.add(loaded_face);
					setTimeout(function () {
						document.body.classList.add('is-shopifyfont-loaded');
					}, 1000);
				})
			}
			document.addEventListener("DOMContentLoaded", loadShopifyFonts);
		</script>
    {% endif %}
    {% if settings.font_source_headings == 'shopify' %}
		{% for variant in settings.font_headings.variants %}
			<link rel="preload" href="{{ settings.font_headings | font_modify: 'style', variant.style | font_modify: 'weight', variant.weight | font_url: 'woff' }}" as="font">
		{% endfor %}
		<script>
			function loadShopifyFontsHeadings() {
				var shopifyFont = new FontFace('{{ settings.font_headings.family }}', 'url({{ settings.font_headings | font_url: 'woff' }})');
				shopifyFont.load().then(function (loaded_face) {
					document.fonts.add(loaded_face);
					setTimeout(function () {
						document.body.classList.add('is-shopifyfont-loaded');
					}, 1000);
				})
			}
			document.addEventListener("DOMContentLoaded", loadShopifyFontsHeadings);
		</script>
	{% endif %}
    {% if settings.font_source_menu == 'shopify' %}
		{% for variant in settings.font_menu.variants %}
			<link rel="preload" href="{{ settings.font_menu | font_modify: 'style', variant.style | font_modify: 'weight', variant.weight | font_url: 'woff' }}" as="font">
		{% endfor %}
		<script>
			function loadShopifyFontsMenu() {
				var shopifyFont = new FontFace('{{ settings.font_menu.family }}', 'url({{ settings.font_menu | font_url: 'woff' }})');
				shopifyFont.load().then(function (loaded_face) {
					document.fonts.add(loaded_face);
					setTimeout(function () {
						document.body.classList.add('is-shopifyfont-loaded');
					}, 1000);
				})
			}
			document.addEventListener("DOMContentLoaded", loadShopifyFontsMenu);
		</script>
	{% endif %}
{% endif %}